---
title: >
  æ–°ã—ã„Polars Rãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç´¹ä»‹
subtitle: "2025-12-06 Japan.R 2025<br/>@eitsupi"
format:
  revealjs:
    theme: night
    width: 1280
    height: 720
    slide-number: true
    chalkboard: false
    preview-links: auto
    footer: "#Japan.R 2025"
    embed-resources: true
    reference-location: document
execute:
  cache: true
  echo: true
lang: ja
---

# ã¯ã˜ã‚ã«

## è‡ªå·±ç´¹ä»‹

:::: {.columns}

::: {.column width="25%"}

![](../image/eitsupi.jpg){fig-align="center" width="300" height="300"}

:::

::: {.column width="75%"}

- [@eitsupi](https://github.com/eitsupi)
- æœ¬æ¥­ï¼šæ‰‹æ–™ç†ã‚µãƒ–ã‚¹ã‚¯ ã¤ãã‚ŠãŠã.jp ã®  
  ã€€ã€€ã€€ãƒ‡ãƒ¼ã‚¿åŸºç›¤å‘¨ã‚Šï¼ˆdbtï¼‰
- å‰¯æ¥­ï¼šColumnarç¤¾ã§ADBCå‘¨ã‚Šã®ãŠæ‰‹ä¼ã„
- ExcelãŒå«Œã«ãªã‚ŠRã‚’ä½¿ã„å§‹ã‚ã¦6å¹´
  - [Rockerãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ (Shell, R, Docker)](https://rocker-project.org/)
  - [Polars Rãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ (R, Rust)](https://pola-rs.github.io/r-polars/)
  - [PRQL (Rust, R, Python)](https://prql-lang.org/)

:::

::::

# å‰å›ã¾ã§ã®ã‚ã‚‰ã™ã˜

---

ã“ã‚Œã¾ã§dplyrãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®è©±ã‚’è‰²ã€…ã—ãŸã‚Š

Polars Rãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç´¹ä»‹ã‚‚ã—ã¦ã„ã¾ã—ãŸã€‚

# æœ¬æ—¥è©±ã™ã“ã¨

::: {.incremental}

- Rã§Polarsã‚’ä½¿ã£ã¦ã¿ã‚‹
  - Python Polarsé¢¨æ§‹æ–‡
  - dplyrãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- æŠ€è¡“çš„ãªè©±
  - mirai/reticulateçµ±åˆ
  - S7

:::

# Polarsã«ã¤ã„ã¦

## Polars

::: {.incremental}

- ã€Œæœ€é€Ÿã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¸€ã¤ã€
- Rustè£½
- Apache Arrowã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ 
- Pythonãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒäººæ°—
  - ä¸­èº«ã®Rustãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚‚å…¬å¼
  - éå…¬å¼ï¼šNodo.jsã€Rã€Ruby

:::

# Rã§Polarsã‚’ä½¿ã£ã¦ã¿ã‚‹

:::: {.columns}

::: {.column width="50%"}

```python
import polars as pl
import polars.selectors as cs

pl.DataFrame(
    {
        "x": [1, 2, 3],
        "y": ["a", "b", "c"],
    }
).select(cs.by_name("x"))
```

:::

::: {.column width="50%"}

```r
library(polars)

pl$DataFrame(
  x = c(1, 2, 3),
  y = c("a", "b", "c"),
)$select(cs$by_name("x"))
```

:::

::::

# ä½•ãã®æ§‹æ–‡

## reticulateçµŒç”±ã§Python Polars

```r

```

## Polarsæ§‹æ–‡

- Python Polarsã‚’å‚è€ƒã«Rust Polarsã‚’æ›¸ã“ã†ã¨ã¨ã™ã‚‹ã¨ğŸ˜‡

# ä½™è«‡ï¼š ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

## MSRVå•é¡Œ

- R-multiverseã‚’ä½¿ã„ã¾ã—ã‚‡ã†

# dplyrãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

## tidypolars

- dplyrãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- å¤šæ•°ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®é–¢æ•°ã‚’ã€dplyrå‹•è©å†…ã§ä½¿ç”¨å¯èƒ½ã«ã™ã‚‹
  - å‹•è©å†…ã®é–¢æ•°ã‚’æ¤œå‡ºã—ã€polarsã®å¼ã«ç½®ãæ›ãˆã‚‹ï¼ˆarrowãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«é¡ä¼¼ï¼‰

# æŠ€è¡“çš„ãªè©±

## miraiçµ±åˆ

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«

## reticulateçµ±åˆ

ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«`reticulate::r_to_py()`ã®
S3ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ 
â†’

## S7æ¡ç”¨
